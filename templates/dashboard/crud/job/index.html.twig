{% extends 'base.html.twig' %}

{% block title %}Job index
{% endblock %}

{% block body %}
	{% embed "components/table.html.twig" %}
		{% block tableTitle %}Annonce de travail
		{% endblock %}
		{% block th %}
			<th class="px-6 py-3">Id</th>
			<th class="px-6 py-3">Title</th>
			<th class="px-6 py-3">Description</th>
			<th class="px-6 py-3">Link</th>
			<th class="px-6 py-3">City</th>
			<th class="px-6 py-3">Salary</th>
			<th class="px-6 py-3">Contract_type</th>
			<th class="px-6 py-3">Created_at</th>
			<th class="px-6 py-3">Start</th>
			<th class="px-6 py-3">End</th>
			<th class="px-6 py-3">Actions</th>
		{% endblock %}
		{% block tbody %}
			{% for job in jobs %}
				<tr class="border border-violet-600 bg-white dark:bg-gray-800 dark: hover:bg-gray-50 dark:hover:bg-gray-600">
					<td class="px-6 py-4">{{ job.id }}</td>
					<td class="px-6 py-4">{{ job.title }}</td>
					<td class="px-6 py-4">{{ job.description }}</td>
					<td class="px-6 py-4">{{ job.link }}</td>
					<td class="px-6 py-4">{{ job.city }}</td>
					<td class="px-6 py-4">{{ job.salary }}</td>
					<td class="px-6 py-4">{{ job.contract_type }}</td>
					<td class="px-6 py-4">{{ job.createdAt ? job.createdAt|date('Y-m-d H:i:s') : '' }}</td>
					<td class="px-6 py-4">{{ job.start ? job.start|date('Y-m-d') : '' }}</td>
					<td class="px-6 py-4">{{ job.end ? job.end|date('Y-m-d') : '' }}</td>
					<td class="px-6 py-4 flex gap-4">
						<a href="{{ path('app_user_show', {'id': job.id}) }}"><i class="fa-solid fa-eye"></i></a>
						<a href="{{ path('app_user_edit', {'id': job.id}) }}"><i class="fa-solid fa-pen-to-square"></i></a>
						
					</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="11">Aucune donn√©e</td>
				</tr>
			{% endfor %}
		{% endblock %}
		{% block button %}
			<a class='bg-violet-600 h-10 rounded text-white font-semibold hover:bg-white border-2 px-2 py-1 w-32 hover:text-violet-600 hover:border-violet-600 transition text-center' href="{{ path('app_job_new') }}">Ajouter</a>
		{% endblock %}
	{% endembed %}
</div>{% endblock %}
